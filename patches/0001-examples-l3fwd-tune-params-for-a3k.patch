From 868e895711c355fab145ff4a7a1d63455be8be79 Mon Sep 17 00:00:00 2001
From: Natalie Samsonov <nsamsono@marvell.com>
Date: Tue, 14 Aug 2018 22:13:43 +0300
Subject: [PATCH 1/1] examples/l3fwd: tune params for a3k

Creates executable with name: l3fwd-a3k

Change-Id: I452ba8ba992a68c5221976a45b665a8797e09a27
Signed-off-by: Natalie Samsonov <nsamsono@marvell.com>
---
 examples/l3fwd/Makefile | 2 +-
 examples/l3fwd/l3fwd.h  | 2 +-
 examples/l3fwd/main.c   | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/examples/l3fwd/Makefile b/examples/l3fwd/Makefile
index cccdd9d..474a393 100644
--- a/examples/l3fwd/Makefile
+++ b/examples/l3fwd/Makefile
@@ -2,7 +2,7 @@
 # Copyright(c) 2010-2016 Intel Corporation
 
 # binary name
-APP = l3fwd
+APP = l3fwd-a3k
 
 # all source are stored in SRCS-y
 SRCS-y := main.c l3fwd_lpm.c l3fwd_em.c
diff --git a/examples/l3fwd/l3fwd.h b/examples/l3fwd/l3fwd.h
index c962dea..4e3e584 100644
--- a/examples/l3fwd/l3fwd.h
+++ b/examples/l3fwd/l3fwd.h
@@ -15,7 +15,7 @@
 #define NO_HASH_MULTI_LOOKUP 1
 #endif
 
-#define MAX_PKT_BURST     32
+#define MAX_PKT_BURST     20
 #define BURST_TX_DRAIN_US 100 /* TX drain every ~100us */
 
 #define MAX_RX_QUEUE_PER_LCORE 16
diff --git a/examples/l3fwd/main.c b/examples/l3fwd/main.c
index e7111fa..ed46e03 100644
--- a/examples/l3fwd/main.c
+++ b/examples/l3fwd/main.c
@@ -50,8 +50,8 @@
 /*
  * Configurable number of RX/TX ring descriptors
  */
-#define RTE_TEST_RX_DESC_DEFAULT 1024
-#define RTE_TEST_TX_DESC_DEFAULT 1024
+#define RTE_TEST_RX_DESC_DEFAULT 512
+#define RTE_TEST_TX_DESC_DEFAULT 512
 
 #define MAX_TX_QUEUE_PER_PORT RTE_MAX_ETHPORTS
 #define MAX_RX_QUEUE_PER_PORT 128
-- 
2.7.4

